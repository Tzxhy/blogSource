---
title: 工作踩坑记录
date: 2017-06-26 17:46:49
tags:
---



1,css中引用了，名称都对了，但引用不上？
可能是路径不对，名称，css选择器的结构，其中，更有可能的是，css中添加了//双斜线注释。这在css中是不合法的。会导致下一行失效。

2,引用了bootstrap-fileinput插件,结合ajaxFileUpload发送文件时起冲突,导致发送一次后无法显示的问题.
这是因为ajaxFileUpload原理是克隆原input元素, 克隆时导致bootstrap-fileinput对input绑定的data数据发生改变(主要是由this指针引起), 从而导致span元素不能正确显示选择的文件名称.解决方式是每次ajaxFileUpload请求之后, 将外层  [data-provides="fileinput"]元素用  outerHTML  覆盖自身, 此时便会清空data数据, 在bootstrap-fileinput中会自动添加data数据, 并且需要手动设置input[file]元素的name属性. 达到修复的目的.

3,限制input输入内容格式,可在keyup事件中使用正则表达式去除非想要信息.如,只想要数字和英文逗号,则可以, replace(/[^\d,]/g, '');

4,$("#selectedUser").val().split(","), 就算$("#selectedUser").val()是''空字符串,但是split后为[""]

5,jquery.clone在IE中, 复制input:file元素时,貌似不会复制files属性, 导致后面程序访问不了选择的文件. 解决方法, 手动$.extends(新.files, 旧.files); 即可.